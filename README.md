# -
网站点击流数据分析
1、数据采集：通过页面嵌入JS代码的方式获取用户访问行为，并发送到web服务的后台记录日志。然后应用Flume采集，在每个Web服务器上部署agent节点，修改配置文件；启动agent节点，将采集到的数据汇聚到指定的HDFS文件系统目录中。
2、移动数据到预处理工作目录。写一个shell脚本。放在azakaban中调度。
3、数据预处理：通过mapreduce程序对采集到的点击流数据进行预处理，比如清洗、格式整理、滤除脏数据等。形成一张宽表，以空间换取时间。自定义JavaBean，采用贴源，自定义排序（把java bean当做复合key）、Partitioner、Comparator、GroupingComparator（修改由于将java bean当作key）。关键是梳理点击流模型的两个表PV和visit。
4、整个过程中定义三个shell脚本定时运行：用azkaban
5、数据入库：将预处理之后的数据导入到HIVE仓库中相应的库和表中。
6、数据分析：实现多维度统计PV总量（时/天）、统计PV总量最大的来源TOP N、每日新增访客以及回头客访问记录、人均访问频度、关键路径转化率分析——漏斗模型。
7、产生的结果定时往MySQL中导入，使在前端展示速度较快，用Sqoop。
